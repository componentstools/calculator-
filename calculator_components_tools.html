<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ –ï–≤—Ä–æ–ø—ã | Components Tools</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: #f5f8fa;
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 20px rgba(0, 92, 122, 0.08);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #005c7a 0%, #12b2e7 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 12px;
            letter-spacing: -0.5px;
        }

        .header p {
            font-size: 16px;
            font-weight: 500;
            opacity: 0.95;
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        @media (max-width: 1200px) {
            .content {
                grid-template-columns: 1fr;
            }
        }

        .section {
            background: #ffffff;
            border-radius: 8px;
            padding: 25px;
            border: 1px solid #e8ecef;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #005c7a;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #12b2e7;
            display: flex;
            align-items: center;
        }

        .section-title::before {
            content: '';
            width: 4px;
            height: 24px;
            background: #12b2e7;
            margin-right: 12px;
            border-radius: 2px;
        }

        .input-group {
            margin-bottom: 18px;
        }

        .input-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e8ecef;
            border-radius: 6px;
            font-size: 15px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 500;
            transition: all 0.3s;
            background: white;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #12b2e7;
            box-shadow: 0 0 0 3px rgba(18, 178, 231, 0.1);
        }

        .input-hint {
            font-size: 12px;
            color: #7d8d9f;
            margin-top: 5px;
            font-weight: 500;
        }

        .result-section {
            background: linear-gradient(135deg, #12b2e7 0%, #00d4ff 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 8px 25px rgba(18, 178, 231, 0.25);
        }

        .result-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
            opacity: 0.95;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .result-value {
            font-size: 48px;
            font-weight: 800;
            margin: 15px 0;
            letter-spacing: -1px;
        }

        .result-subtitle {
            font-size: 14px;
            opacity: 0.9;
            font-weight: 500;
        }

        .btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #005c7a 0%, #12b2e7 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 700;
            font-family: 'Montserrat', sans-serif;
            cursor: pointer;
            transition: all 0.3s;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(18, 178, 231, 0.3);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(18, 178, 231, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .competitor-analysis {
            background: linear-gradient(135deg, #ffa726 0%, #ff9800 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(255, 167, 38, 0.25);
        }

        .competitor-analysis h3 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            letter-spacing: 0.3px;
        }

        .expense-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #f0f3f5;
        }

        .expense-item:last-child {
            border-bottom: none;
        }

        .expense-label {
            font-weight: 600;
            color: #333;
            font-size: 14px;
        }

        .expense-value {
            font-weight: 700;
            color: #005c7a;
            font-size: 14px;
        }

        .optimization-item {
            background: #f8fcff;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 4px solid #12b2e7;
            transition: all 0.3s;
        }

        .optimization-item:hover {
            background: #f0f9ff;
            transform: translateX(4px);
        }

        .optimization-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
            font-size: 14px;
        }

        .optimization-value {
            font-size: 22px;
            font-weight: 800;
            color: #12b2e7;
            letter-spacing: -0.5px;
        }

        .toggle-section {
            margin-top: 20px;
            padding: 15px;
            background: #e8f7fd;
            border-radius: 8px;
            border-left: 4px solid #12b2e7;
        }

        .recommendations {
            background: #fff8e1;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #ffeb3b;
            margin-top: 20px;
        }

        .recommendations h3 {
            color: #f57c00;
            margin-bottom: 15px;
            font-weight: 700;
            font-size: 18px;
        }

        .recommendations ul {
            list-style: none;
            padding: 0;
        }

        .recommendations li {
            padding: 12px 0;
            border-bottom: 1px solid #fff9c4;
            font-size: 14px;
            line-height: 1.6;
        }

        .recommendations li:last-child {
            border-bottom: none;
        }

        .status-badge {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-success {
            background: #c8e6c9;
            color: #2e7d32;
        }

        .status-danger {
            background: #ffcdd2;
            color: #c62828;
        }

        .total-box {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #e8f7fd 0%, #f0f9ff 100%);
            border-radius: 10px;
            border: 2px solid #12b2e7;
        }

        .total-box-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #005c7a;
            font-size: 14px;
        }

        .total-box-value {
            font-size: 32px;
            font-weight: 800;
            color: #12b2e7;
            margin: 8px 0;
            letter-spacing: -0.5px;
        }

        .total-box-subtitle {
            font-size: 13px;
            margin-top: 8px;
            color: #555;
            font-weight: 600;
        }

        .total-box-subtitle span {
            font-weight: 800;
            color: #005c7a;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–µ–ª–µ–∫—Ç–∞ */
        select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2312b2e7' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 12px center;
            padding-right: 36px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .calculating {
            animation: pulse 1.5s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåç –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –ò–ú–ü–û–†–¢–ê –ò–ó –ï–í–†–û–ü–´</h1>
            <p>–¢–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏ –∏ —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏</p>
        </div>

        <div class="content">
            <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –í–•–û–î–ù–´–ï –î–ê–ù–ù–´–ï -->
            <div>
                <!-- 1. –ó–∞–∫—É–ø–∫–∞ -->
                <div class="section">
                    <div class="section-title">1. –ó–∞–∫—É–ø–∫–∞ –≤ –ï–≤—Ä–æ–ø–µ</div>
                    <div class="input-group">
                        <label>–ó–∞–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä–∞ (‚Ç¨)</label>
                        <input type="number" id="zakupka" value="0" step="0.01">
                        <div class="input-hint">–¶–µ–Ω–∞ —É –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</div>
                    </div>
                    <div class="input-group">
                        <label>–î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ 2 –∫–≥ (‚Ç¨)</label>
                        <input type="number" id="dostavka2kg" value="35" step="0.01">
                        <div class="input-hint">35‚Ç¨ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ, –∏–ª–∏ 0 –µ—Å–ª–∏ –±–æ–ª—å—à–µ 2–∫–≥</div>
                    </div>
                    <div class="input-group">
                        <label>–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –∏–Ω–≤–æ–π—Å—É (‚Ç¨)</label>
                        <input type="number" id="dostavkaInvoice" value="0" step="0.01">
                        <div class="input-hint">–ï—Å–ª–∏ –≤–µ—Å > 2 –∫–≥</div>
                    </div>
                </div>

                <!-- 2. –°–ø–æ—Å–æ–± –ø–µ—Ä–µ–≤–æ–¥–∞ -->
                <div class="section">
                    <div class="section-title">2. –°–ø–æ—Å–æ–± –ø–µ—Ä–µ–≤–æ–¥–∞</div>
                    <div class="input-group">
                        <label>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–±</label>
                        <select id="sposob">
                            <option value="1">–ù–∞–ª–∏—á–∫–∞ —á–µ—Ä–µ–∑ –ò–ü</option>
                            <option value="2">–ö—Ä–∏–ø—Ç–∞ (EUR‚ÜíUSDT‚ÜíRUB)</option>
                        </select>
                    </div>

                    <div id="nalichkaBlock">
                        <div class="input-group">
                            <label>–ö—É—Ä—Å –¶–ë –†–§ EUR/RUB (—Å–ø—Ä–∞–≤–æ—á–Ω–æ)</label>
                            <input type="number" id="kursCBRF" value="100" step="0.01" oninput="updateKursInfo()">
                            <div class="input-hint">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∫—É—Ä—Å –¶–µ–Ω—Ç—Ä–æ–±–∞–Ω–∫–∞</div>
                        </div>
                        <div class="input-group">
                            <label>–ö—É—Ä—Å –æ–±–º–µ–Ω–∞ EUR/RUB</label>
                            <input type="number" id="kursNalichka" value="105" step="0.01" oninput="updateKursInfo()">
                            <div class="input-hint">–†–µ–∞–ª—å–Ω—ã–π –∫—É—Ä—Å —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤</div>
                        </div>
                        <div class="input-group">
                            <label>–ö–æ–º–∏—Å—Å–∏—è –ò–ü (%)</label>
                            <input type="number" id="komisIP" value="10" step="0.1" oninput="updateKursInfo()">
                            <div class="input-hint">–û–±—ã—á–Ω–æ 10%</div>
                        </div>
                        <div id="kursInfo" style="margin-top: 10px; padding: 12px; background: #fff3cd; border-radius: 6px; border-left: 3px solid #ffc107; font-size: 13px; font-weight: 600;">
                            <div style="margin-bottom: 5px;">üí° <strong>–†–∞–∑–Ω–∏—Ü–∞ –∫—É—Ä—Å–æ–≤:</strong> <span id="kursDiff" style="color: #f57c00;">5.0%</span></div>
                            <div><strong>–ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–º–∏—Å—Å–∏—è –∑–∞ –ø–µ—Ä–µ–≤–æ–¥:</strong> <span id="totalKomis" style="color: #d32f2f;">15.0%</span></div>
                        </div>
                    </div>

                    <div id="kriptaBlock" style="display:none;">
                        <div class="input-group">
                            <label>–ö—É—Ä—Å EUR/USDT</label>
                            <input type="number" id="kursEurUsdt" value="1.19" step="0.0001">
                        </div>
                        <div class="input-group">
                            <label>–ö—É—Ä—Å USDT/RUB</label>
                            <input type="number" id="kursUsdtRub" value="83.43" step="0.01">
                        </div>
                        <div class="input-group">
                            <label>–ö–æ–º–∏—Å—Å–∏—è (%)</label>
                            <input type="number" id="komisKripta" value="2" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>–ö–æ–º–∏—Å—Å–∏—è –∞–≥–µ–Ω—Ç–∞ (‚ÇΩ)</label>
                            <input type="number" id="komisAgent" value="19908.72" step="0.01">
                        </div>
                    </div>
                </div>

                <!-- 3. –õ–æ–≥–∏—Å—Ç–∏–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã -->
                <div class="section">
                    <div class="section-title">3. –õ–æ–≥–∏—Å—Ç–∏–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã</div>
                    <div class="input-group">
                        <label>–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –†–æ—Å—Å–∏–∏ (‚ÇΩ)</label>
                        <input type="number" id="dostavkaRF" value="0" step="0.01">
                        <div class="input-hint">–ü–æ—Å–ª–µ–¥–Ω—è—è –º–∏–ª—è</div>
                    </div>
                    <div class="input-group">
                        <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–∫—É–ø–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (%)</label>
                        <input type="number" id="stoimostDocs" value="10" step="0.1">
                        <div class="input-hint">–û–±—ã—á–Ω–æ 10%</div>
                    </div>
                    <div class="input-group">
                        <label>–¶–µ–ª–µ–≤–∞—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å (%)</label>
                        <input type="number" id="celProfit" value="3" step="0.1">
                        <div class="input-hint">–î–ª—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏, –æ–±—ã—á–Ω–æ 3%</div>
                    </div>
                </div>

                <!-- 4. –ù–∞–ª–æ–≥–∏ -->
                <div class="section">
                    <div class="section-title">4. –ù–∞–ª–æ–≥–∏</div>
                    <div class="input-group">
                        <label>–ù–î–° (%)</label>
                        <input type="number" id="nds" value="20" step="0.1">
                        <div class="input-hint">–û–±—ã—á–Ω–æ 20%</div>
                    </div>
                    <div class="input-group">
                        <label>–ù–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏–±—ã–ª—å (%)</label>
                        <input type="number" id="nalogPribil" value="20" step="0.1">
                        <div class="input-hint">–û–±—ã—á–Ω–æ 20%</div>
                    </div>
                </div>

                <!-- 5. –ñ–µ–ª–∞–µ–º–∞—è –ø—Ä–∏–±—ã–ª—å -->
                <div class="section">
                    <div class="section-title">5. –ñ–µ–ª–∞–µ–º–∞—è –ø—Ä–∏–±—ã–ª—å</div>
                    <div class="input-group">
                        <label>–ñ–µ–ª–∞–µ–º–∞—è –†–ï–ê–õ–¨–ù–ê–Ø –ø—Ä–∏–±—ã–ª—å (‚ÇΩ)</label>
                        <input type="number" id="jelaemayaPribil" value="0" step="0.01">
                        <div class="input-hint">–°–∫–æ–ª—å–∫–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ä—É–∫–∞—Ö</div>
                    </div>
                </div>

                <!-- 6. –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã -->
                <div class="section">
                    <div class="section-title">6. –¶–µ–Ω—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤</div>
                    <div class="input-group">
                        <label>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (‚ÇΩ)</label>
                        <input type="number" id="konkurentMin" value="0" step="0.01">
                    </div>
                    <div class="input-group">
                        <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (‚ÇΩ)</label>
                        <input type="number" id="konkurentMax" value="0" step="0.01">
                    </div>
                </div>

                <button class="btn" onclick="calculate()">üöÄ –†–ê–°–°–ß–ò–¢–ê–¢–¨ –¶–ï–ù–£</button>
            </div>

            <!-- –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –†–ï–ó–£–õ–¨–¢–ê–¢–´ -->
            <div>
                <!-- –ì–ª–∞–≤–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç -->
                <div class="result-section">
                    <div class="result-title">üí∞ –¶–ï–ù–ê –î–õ–Ø –ö–õ–ò–ï–ù–¢–ê</div>
                    <div class="result-value" id="resultPrice">0 ‚ÇΩ</div>
                    <div class="result-subtitle">–í—ã—Å—Ç–∞–≤–∏—Ç—å —Å—á–µ—Ç –Ω–∞ —ç—Ç—É —Å—É–º–º—É</div>
                </div>

                <!-- –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ -->
                <div class="competitor-analysis" id="competitorBlock" style="display:none;">
                    <h3>üìä –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤</h3>
                    <div style="font-size:16px; margin-bottom:10px; font-weight: 600;">
                        –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: <span id="competitorAvg" style="font-weight:800;">0 ‚ÇΩ</span>
                    </div>
                    <div style="font-size:15px; margin-bottom:10px; font-weight: 500;">
                        –†–∞–∑–Ω–∏—Ü–∞: <span id="competitorDiff" style="font-weight:700;">0 ‚ÇΩ</span>
                        (<span id="competitorDiffPercent">0%</span>)
                    </div>
                    <div id="competitorStatus"></div>
                </div>

                <!-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ -->
                <div class="section">
                    <div class="section-title">üìà –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤</div>
                    <div id="expensesList"></div>
                </div>

                <!-- –°—Ü–µ–Ω–∞—Ä–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ -->
                <div class="section">
                    <div class="section-title">üí° –°—Ü–µ–Ω–∞—Ä–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</div>
                    <div id="optimizationList"></div>
                    <div class="total-box">
                        <div class="total-box-title">–ü–û–¢–ï–ù–¶–ò–ê–õ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò:</div>
                        <div class="total-box-value" id="totalOptimization">0 ‚ÇΩ</div>
                        <div class="total-box-subtitle">–ü—Ä–∏–±—ã–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å: <span id="maxProfit">0 ‚ÇΩ</span></div>
                    </div>
                </div>

                <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ -->
                <div class="recommendations">
                    <h3>üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò</h3>
                    <ul id="recommendationsList"></ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Å–ø–æ—Å–æ–±–∞
        document.getElementById('sposob').addEventListener('change', function() {
            const sposob = this.value;
            document.getElementById('nalichkaBlock').style.display = sposob === '1' ? 'block' : 'none';
            document.getElementById('kriptaBlock').style.display = sposob === '2' ? 'block' : 'none';
        });

        function calculate() {
            // –ü–æ–ª—É—á–∞–µ–º –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            const zakupka = parseFloat(document.getElementById('zakupka').value) || 0;
            const dostavka2kg = parseFloat(document.getElementById('dostavka2kg').value) || 0;
            const dostavkaInvoice = parseFloat(document.getElementById('dostavkaInvoice').value) || 0;
            const sposob = document.getElementById('sposob').value;
            const dostavkaRF = parseFloat(document.getElementById('dostavkaRF').value) || 0;
            const stoimostDocs = (parseFloat(document.getElementById('stoimostDocs').value) || 10) / 100;
            const celProfit = (parseFloat(document.getElementById('celProfit').value) || 3) / 100;
            const jelaemayaPribil = parseFloat(document.getElementById('jelaemayaPribil').value) || 0;
            const konkurentMin = parseFloat(document.getElementById('konkurentMin').value) || 0;
            const konkurentMax = parseFloat(document.getElementById('konkurentMax').value) || 0;
            const nds = (parseFloat(document.getElementById('nds').value) || 20) / 100;
            const nalogNaPribil = (parseFloat(document.getElementById('nalogPribil').value) || 20) / 100;

            // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ø–æ—Å–æ–±–∞ –ø–µ—Ä–µ–≤–æ–¥–∞
            let kurs, komisPerevod, komisAgent = 0;
            if (sposob === '1') {
                kurs = parseFloat(document.getElementById('kursNalichka').value) || 105;
                komisPerevod = (parseFloat(document.getElementById('komisIP').value) || 10) / 100;
            } else {
                const kursEurUsdt = parseFloat(document.getElementById('kursEurUsdt').value) || 1.19;
                const kursUsdtRub = parseFloat(document.getElementById('kursUsdtRub').value) || 83.43;
                const komisKripta = (parseFloat(document.getElementById('komisKripta').value) || 2) / 100;
                komisAgent = parseFloat(document.getElementById('komisAgent').value) || 19908.72;
                kurs = kursEurUsdt * kursUsdtRub;
                komisPerevod = komisKripta;
            }

            // –†–∞—Å—á–µ—Ç—ã
            const dostavkaEvropa = dostavka2kg + dostavkaInvoice;
            const nujnoVEvrope = zakupka + dostavkaEvropa;
            
            // –†–∞—Å—á–µ—Ç —Å—É–º–º—ã –∫ –≤—ã–≤–æ–¥—É
            let kVivodu;
            if (sposob === '1') {
                const sKomisiej = nujnoVEvrope * (1 + komisPerevod);
                const vRublyah = sKomisiej * kurs;
                const komisIP = vRublyah * komisPerevod;
                kVivodu = vRublyah + komisIP;
            } else {
                const sKomisiej = nujnoVEvrope * (1 + komisPerevod);
                const vRublyah = sKomisiej * kurs;
                kVivodu = vRublyah + komisAgent;
            }

            const zakupkaRub = zakupka * kurs;
            const dostavkaEvropaRub = dostavkaEvropa * kurs;
            
            // –ü—Ä—è–º—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
            const pryamieRashodi = kVivodu + dostavkaRF;

            // –§–æ—Ä–º—É–ª–∞ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞
            const viruchkaBezNDS = (jelaemayaPribil + pryamieRashodi) / (1 - stoimostDocs * (1 - celProfit) - celProfit * nalogNaPribil);
            
            const ndsSum = viruchkaBezNDS * nds;
            const cenaProdaji = viruchkaBezNDS + ndsSum;

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—á–µ—Ç–æ–≤
            const perviyPrihod = zakupkaRub * 0.10;
            const celevayaPribil = viruchkaBezNDS * celProfit;
            const dopPrihod = viruchkaBezNDS - perviyPrihod - celevayaPribil;
            const stoimostDokov = (perviyPrihod + dopPrihod) * stoimostDocs;
            const nalogNaPribilSum = celevayaPribil * nalogNaPribil;

            // –í—ã–≤–æ–¥ –≥–ª–∞–≤–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            document.getElementById('resultPrice').textContent = cenaProdaji.toLocaleString('ru-RU', {minimumFractionDigits: 2, maximumFractionDigits: 2}) + ' ‚ÇΩ';

            // –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
            if (konkurentMin > 0 || konkurentMax > 0) {
                const avgKonkurent = (konkurentMin + konkurentMax) / 2;
                const diff = cenaProdaji - avgKonkurent;
                const diffPercent = avgKonkurent > 0 ? (diff / avgKonkurent * 100) : 0;
                
                // –ó–∞—â–∏—Ç–∞ –æ—Ç Infinity –∏ NaN
                const displayPercent = (diffPercent === Infinity || diffPercent === -Infinity || isNaN(diffPercent)) 
                    ? 0.0 
                    : diffPercent;
                
                document.getElementById('competitorBlock').style.display = 'block';
                document.getElementById('competitorAvg').textContent = avgKonkurent.toLocaleString('ru-RU', {minimumFractionDigits: 2}) + ' ‚ÇΩ';
                document.getElementById('competitorDiff').textContent = diff.toLocaleString('ru-RU', {minimumFractionDigits: 2, maximumFractionDigits: 2}) + ' ‚ÇΩ';
                document.getElementById('competitorDiffPercent').textContent = (diff > 0 ? '+' : '') + displayPercent.toFixed(1) + '%';
                
                const status = diff > 0 ? 
                    '<span class="status-badge status-danger">‚ùå –ú–´ –î–û–†–û–ñ–ï</span>' :
                    '<span class="status-badge status-success">‚úÖ –ú–´ –î–ï–®–ï–í–õ–ï</span>';
                document.getElementById('competitorStatus').innerHTML = status;
            } else {
                document.getElementById('competitorBlock').style.display = 'none';
            }

            // –†–∞—Å—á–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–∏—Å—Å–∏–∏
            const kursCBRF = parseFloat(document.getElementById('kursCBRF')?.value) || 100;
            const realKurs = sposob === '1' ? kurs : (kurs / (1 + komisPerevod));
            const kursDiffPercent = ((realKurs - kursCBRF) / kursCBRF * 100);
            const kursDiffRub = nujnoVEvrope * (realKurs - kursCBRF);
            
            const komisIPRub = kVivodu - zakupkaRub - dostavkaEvropaRub - kursDiffRub;
            
            // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤
            const rashodi = [
                {label: '–ó–∞–∫—É–ø–∫–∞', value: zakupkaRub, percent: zakupkaRub / cenaProdaji * 100, hint: null},
                {label: '–î–æ—Å—Ç–∞–≤–∫–∞ –ï–≤—Ä–æ–ø–∞', value: dostavkaEvropaRub, percent: dostavkaEvropaRub / cenaProdaji * 100, hint: null},
                {
                    label: sposob === '1' ? '–ö–æ–º–∏—Å—Å–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ (—Ä–∞–∑–Ω–∏—Ü–∞ –∫—É—Ä—Å–æ–≤ + –ò–ü)' : '–ö–æ–º–∏—Å—Å–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ (–∫—Ä–∏–ø—Ç–∞ + –∞–≥–µ–Ω—Ç)', 
                    value: kVivodu - zakupkaRub - dostavkaEvropaRub, 
                    percent: (kVivodu - zakupkaRub - dostavkaEvropaRub) / cenaProdaji * 100,
                    hint: sposob === '1' ? 
                        `–†–∞–∑–Ω–∏—Ü–∞ –∫—É—Ä—Å–æ–≤: ${kursDiffRub.toLocaleString('ru-RU', {maximumFractionDigits: 0})}‚ÇΩ (${kursDiffPercent.toFixed(1)}%), –ò–ü: ${komisIPRub.toLocaleString('ru-RU', {maximumFractionDigits: 0})}‚ÇΩ (${komisPerevod * 100}%)` : 
                        `–ö–æ–º–∏—Å—Å–∏—è ${(komisPerevod * 100).toFixed(1)}% + –ê–≥–µ–Ω—Ç: ${komisAgent.toLocaleString('ru-RU', {maximumFractionDigits: 0})}‚ÇΩ`
                },
                {label: '–î–æ—Å—Ç–∞–≤–∫–∞ –†–§', value: dostavkaRF, percent: dostavkaRF / cenaProdaji * 100, hint: null},
                {label: '–ü–æ–∫—É–ø–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤', value: stoimostDokov, percent: stoimostDokov / cenaProdaji * 100, hint: null},
                {label: '–ù–î–°', value: ndsSum, percent: ndsSum / cenaProdaji * 100, hint: null},
                {label: '–ù–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏–±—ã–ª—å', value: nalogNaPribilSum, percent: nalogNaPribilSum / cenaProdaji * 100, hint: null},
            ];

            let expensesHTML = '';
            rashodi.forEach(r => {
                const hintHTML = r.hint ? `<div style="font-size: 11px; color: #7d8d9f; margin-top: 3px;">${r.hint}</div>` : '';
                expensesHTML += `
                    <div class="expense-item">
                        <span class="expense-label">${r.label}${hintHTML}</span>
                        <span class="expense-value">${r.value.toLocaleString('ru-RU', {minimumFractionDigits: 2})} ‚ÇΩ (${r.percent.toFixed(1)}%)</span>
                    </div>
                `;
            });
            
            const totalRashodi = rashodi.reduce((sum, r) => sum + r.value, 0);
            expensesHTML += `
                <div class="expense-item" style="border-top: 2px solid #12b2e7; margin-top: 10px; padding-top: 15px;">
                    <span class="expense-label" style="font-size: 15px; font-weight: 700;">–ò–¢–û–ì–û —Ä–∞—Å—Ö–æ–¥—ã</span>
                    <span class="expense-value" style="font-size: 15px; font-weight: 800;">${totalRashodi.toLocaleString('ru-RU', {minimumFractionDigits: 2})} ‚ÇΩ (${(totalRashodi / cenaProdaji * 100).toFixed(1)}%)</span>
                </div>
                <div class="expense-item">
                    <span class="expense-label" style="color: #12b2e7; font-size: 15px; font-weight: 700;">–ü—Ä–∏–±—ã–ª—å</span>
                    <span class="expense-value" style="color: #12b2e7; font-size: 15px; font-weight: 800;">${jelaemayaPribil.toLocaleString('ru-RU', {minimumFractionDigits: 2})} ‚ÇΩ (${(jelaemayaPribil / cenaProdaji * 100).toFixed(1)}%)</span>
                </div>
            `;
            document.getElementById('expensesList').innerHTML = expensesHTML;

            // –°—Ü–µ–Ω–∞—Ä–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
            const scenarios = [];
            
            if (sposob === '1' && komisPerevod > 0.08) {
                const ekonomiya = (komisPerevod - 0.08) * zakupkaRub * (1 + komisPerevod);
                scenarios.push({title: '–°–Ω–∏–∑–∏—Ç—å –∫–æ–º–∏—Å—Å–∏—é –ò–ü –¥–æ 8%', value: ekonomiya, percent: (ekonomiya / jelaemayaPribil * 100).toFixed(1)});
            }

            const ekonomiyaZakupka = 50 * kurs * (1 + komisPerevod + stoimostDocs);
            scenarios.push({title: '–ù–∞–π—Ç–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –¥–µ—à–µ–≤–ª–µ –Ω–∞ 50‚Ç¨', value: ekonomiyaZakupka, percent: (ekonomiyaZakupka / jelaemayaPribil * 100).toFixed(1)});

            if (stoimostDocs > 0.08) {
                const ekonomiyaDocs = (stoimostDocs - 0.08) * viruchkaBezNDS * (1 - celProfit);
                scenarios.push({title: '–ü–æ–∫—É–ø–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ–¥ 8%', value: ekonomiyaDocs, percent: (ekonomiyaDocs / jelaemayaPribil * 100).toFixed(1)});
            }

            if (dostavkaRF > 0) {
                const ekonomiyaDostavka = dostavkaRF * 0.30;
                scenarios.push({title: '–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É –†–§ (-30%)', value: ekonomiyaDostavka, percent: (ekonomiyaDostavka / jelaemayaPribil * 100).toFixed(1)});
            }

            if (celProfit > 0.02) {
                const ekonomiyaProfit = (celProfit - 0.02) * viruchkaBezNDS * stoimostDocs;
                scenarios.push({title: '–°–Ω–∏–∑–∏—Ç—å –æ—Ñ–∏—Ü. –ø—Ä–∏–±—ã–ª—å –¥–æ 2%', value: ekonomiyaProfit, percent: (ekonomiyaProfit / jelaemayaPribil * 100).toFixed(1)});
            }

            if (sposob === '1' && nujnoVEvrope * kurs > 100000) {
                const nalichkaKomis = (komisPerevod - 0.02) * zakupkaRub;
                scenarios.push({title: '–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∫—Ä–∏–ø—Ç—É –¥–ª—è –±–æ–ª—å—à–æ–π —Å—É–º–º—ã', value: nalichkaKomis, percent: (nalichkaKomis / jelaemayaPribil * 100).toFixed(1)});
            }

            let optimizationHTML = '';
            let totalOptimization = 0;
            scenarios.forEach(s => {
                totalOptimization += s.value;
                optimizationHTML += `
                    <div class="optimization-item">
                        <div class="optimization-title">${s.title}</div>
                        <div class="optimization-value">+${s.value.toLocaleString('ru-RU', {minimumFractionDigits: 2})} ‚ÇΩ (+${s.percent}%)</div>
                    </div>
                `;
            });
            document.getElementById('optimizationList').innerHTML = optimizationHTML;
            document.getElementById('totalOptimization').textContent = totalOptimization.toLocaleString('ru-RU', {minimumFractionDigits: 2}) + ' ‚ÇΩ';
            document.getElementById('maxProfit').textContent = (jelaemayaPribil + totalOptimization).toLocaleString('ru-RU', {minimumFractionDigits: 2}) + ' ‚ÇΩ';

            // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            const recommendations = [];
            
            const komisPercent = (kVivodu - zakupkaRub - dostavkaEvropaRub) / cenaProdaji * 100;
            if (komisPercent > 10) {
                recommendations.push(`<strong>–ö–û–ú–ò–°–°–ò–Ø –ü–ï–†–ï–í–û–î–ê</strong> - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç—å—è —Ä–∞—Å—Ö–æ–¥–æ–≤ (${komisPercent.toFixed(1)}%). ${sposob === '1' ? '–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∫—Ä–∏–ø—Ç—É –¥–ª—è —Å—É–º–º –æ—Ç 100 000‚ÇΩ —Å—ç–∫–æ–Ω–æ–º–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ ' + ((komisPerevod - 0.02) * zakupkaRub).toLocaleString('ru-RU', {maximumFractionDigits: 0}) + '‚ÇΩ' : '–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å—É–º–º'}.`);
            }
            
            const docsPercent = stoimostDokov / cenaProdaji * 100;
            if (docsPercent > 8) {
                recommendations.push(`<strong>–ü–û–ö–£–ü–ö–ê –î–û–ö–£–ú–ï–ù–¢–û–í</strong> —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç ${docsPercent.toFixed(1)}% –æ—Ç –≤—ã—Ä—É—á–∫–∏. –°–Ω–∏–∂–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ —Å ${(stoimostDocs * 100).toFixed(0)}% –¥–æ 8% –¥–∞—Å—Ç —ç–∫–æ–Ω–æ–º–∏—é ${((stoimostDocs - 0.08) * viruchkaBezNDS * (1 - celProfit)).toLocaleString('ru-RU', {maximumFractionDigits: 0})}‚ÇΩ (${(((stoimostDocs - 0.08) * viruchkaBezNDS * (1 - celProfit)) / jelaemayaPribil * 100).toFixed(1)}% –∫ –ø—Ä–∏–±—ã–ª–∏).`);
            }
            
            const zakupkaPercent = zakupkaRub / cenaProdaji * 100;
            recommendations.push(`<strong>–ó–ê–ö–£–ü–ö–ê</strong> - ${zakupkaPercent.toFixed(1)}% —Ä–∞—Å—Ö–æ–¥–æ–≤. –ü—Ä—è–º—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏–ª–∏ –æ–ø—Ç–æ–≤—ã–µ —Å–∫–∏–¥–∫–∏ 10-15% —Å—ç–∫–æ–Ω–æ–º—è—Ç ${(zakupkaRub * 0.125).toLocaleString('ru-RU', {maximumFractionDigits: 0})}‚ÇΩ.`);
            
            const marginPercent = jelaemayaPribil / cenaProdaji * 100;
            if (marginPercent < 10) {
                recommendations.push(`<strong>–ú–ê–†–ñ–ò–ù–ê–õ–¨–ù–û–°–¢–¨</strong> –Ω–∏–∑–∫–∞—è: ${marginPercent.toFixed(1)}%. –ü—Ä–∏ —Ç–∞–∫–æ–π —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –ª—é–±—ã–µ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã —Å—ä–µ–¥—è—Ç –ø—Ä–∏–±—ã–ª—å. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 15-20%.`);
            } else if (marginPercent < 15) {
                recommendations.push(`<strong>–ú–ê–†–ñ–ò–ù–ê–õ–¨–ù–û–°–¢–¨</strong> –ø—Ä–∏–µ–º–ª–µ–º–∞—è: ${marginPercent.toFixed(1)}%. –ï—Å—Ç—å –∑–∞–ø–∞—Å –Ω–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã, –Ω–æ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è –∫ 20%+.`);
            } else {
                recommendations.push(`<strong>–ú–ê–†–ñ–ò–ù–ê–õ–¨–ù–û–°–¢–¨</strong> —Ö–æ—Ä–æ—à–∞—è: ${marginPercent.toFixed(1)}%. –î–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∑–∞–ø–∞—Å –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è —Ä–∏—Å–∫–æ–≤.`);
            }

            if (dostavkaRF > 1000) {
                recommendations.push(`<strong>–î–û–°–¢–ê–í–ö–ê –ü–û –†–§</strong> - ${dostavkaRF.toLocaleString('ru-RU')}‚ÇΩ. –ü—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ (–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤, –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞) –º–æ–∂–Ω–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å 20-40% (${(dostavkaRF * 0.3).toLocaleString('ru-RU', {maximumFractionDigits: 0})}‚ÇΩ).`);
            }

            const potentialPercent = totalOptimization / jelaemayaPribil * 100;
            recommendations.push(`<strong>–ò–¢–û–ì–û –ü–û–¢–ï–ù–¶–ò–ê–õ</strong> –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π: +${totalOptimization.toLocaleString('ru-RU', {maximumFractionDigits: 0})}‚ÇΩ (+${potentialPercent.toFixed(0)}% –∫ —Ç–µ–∫—É—â–µ–π –ø—Ä–∏–±—ã–ª–∏). –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å –º–æ–∂–µ—Ç –¥–æ—Å—Ç–∏—á—å ${(jelaemayaPribil + totalOptimization).toLocaleString('ru-RU', {maximumFractionDigits: 0})}‚ÇΩ.`);

            let recommendationsHTML = '';
            recommendations.forEach(r => {
                recommendationsHTML += `<li>${r}</li>`;
            });
            document.getElementById('recommendationsList').innerHTML = recommendationsHTML;
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–ª–µ–π
        window.addEventListener('load', function() {
            updateKursInfo();
            calculate();
        });
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫—É—Ä—Å–∞—Ö –∏ –∫–æ–º–∏—Å—Å–∏–∏
        function updateKursInfo() {
            const kursCBRF = parseFloat(document.getElementById('kursCBRF')?.value) || 100;
            const kursNalichka = parseFloat(document.getElementById('kursNalichka')?.value) || 105;
            const komisIP = parseFloat(document.getElementById('komisIP')?.value) || 10;
            
            // –†–∞–∑–Ω–∏—Ü–∞ –∫—É—Ä—Å–æ–≤
            const kursDiff = ((kursNalichka - kursCBRF) / kursCBRF * 100);
            
            // –ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–º–∏—Å—Å–∏—è = —Ä–∞–∑–Ω–∏—Ü–∞ –∫—É—Ä—Å–æ–≤ + –∫–æ–º–∏—Å—Å–∏—è –ò–ü
            const totalKomis = kursDiff + komisIP;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            const kursDiffEl = document.getElementById('kursDiff');
            const totalKomisEl = document.getElementById('totalKomis');
            
            if (kursDiffEl && totalKomisEl) {
                kursDiffEl.textContent = kursDiff.toFixed(1) + '%';
                totalKomisEl.textContent = totalKomis.toFixed(1) + '%';
                
                // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ–ª–∏—á–∏–Ω—ã –∫–æ–º–∏—Å—Å–∏–∏
                if (totalKomis > 15) {
                    totalKomisEl.style.color = '#d32f2f'; // –ö—Ä–∞—Å–Ω—ã–π
                } else if (totalKomis > 10) {
                    totalKomisEl.style.color = '#f57c00'; // –û—Ä–∞–Ω–∂–µ–≤—ã–π
                } else {
                    totalKomisEl.style.color = '#388e3c'; // –ó–µ–ª–µ–Ω—ã–π
                }
            }
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ –ø–æ–ª—è
        document.querySelectorAll('input, select').forEach(element => {
            element.addEventListener('change', calculate);
            element.addEventListener('input', function() {
                // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
                clearTimeout(this.timeout);
                this.timeout = setTimeout(calculate, 300);
            });
        });
    </script>
</body>
</html>
